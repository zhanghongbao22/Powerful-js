<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ajax的封装</title>
</head>
<body>
	
</body>
<script>
console.log("AAAAS".toLowerCase())
function ajax(method,url,data,fn){
	var xhr=new XMLHttpRequest()
	if(method.toLowerCase()=="post"){
		xhr.open("post")
	}else{
		xhr.open("get",url+"&"+data+new Date())
	}
	xhr.onreadystatechange=function(){
		if(xhr.readyState==4&&xhr.status==200){
			fn(xhr.responseText)
		}
	}
	if(method.toLowerCase()=="post"){
		xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded")
		xhr.send(data)
	}else{
		xhr.send()
	}
}
</script>
</html>